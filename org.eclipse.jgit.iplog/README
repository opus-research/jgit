# -----------------------------------------------------------
# This document describes how to generate the Eclipse ip log
# for the eclipse project technology.jgit using a local clone
# of the git repository
#     git://egit.eclipse.org/jgit.git
# starting point is a manually written file
#     .eclipse_iplog
# located in the repository's work dir root path
# which is describing the project, see first section of this
# file in the jgit root directory:
#     $JGIT_BASE/.eclipse_iplog
# -----------------------------------------------------------
# jgit work tree base dir
export JGIT_BASE="c:/data/ide/helios/jgit"

# -----------------------------------------------------------
# repository work dir root path
export WORK_DIR="c:/data/ide/helios/jgit"

# -----------------------------------------------------------
# cd to repository work dir root path (for jgit this is identical to $JGIT_BASE)
cd $WORK_DIR

# -----------------------------------------------------------
# update the CQ list
java -jar $JGIT_BASE/org.eclipse.jgit.pgm/target/jgit-cli.jar eclipse-ipzilla
# -----------------------------------------------------------
# type in ipzilla user and password
# this command updates file .eclipse_iplog

# -----------------------------------------------------------
# start gerrit gsql via ssh
ssh -p 29418 msohn@egit.eclipse.org gerrit gsql --format PRETTY
# -----------------------------------------------------------
# type in ssh passphrase for your ssh key

# -----------------------------------------------------------
# run the SQL query from (cut and paste to interactive gerrit shell
#    org.eclipse.jgit.iplog/src/org/eclipse/jgit/iplog/gsql_query.txt
# -----------------------------------------------------------
# copy the query result into file (no header lines, no whitespace in front of first column)
#    $WORK_DIR/.git/gerrit_committers

# -----------------------------------------------------------
# generate iplog
java -jar $JGIT_BASE/org.eclipse.jgit.pgm/target/jgit-cli.jar eclipse-iplog --version=HEAD > jgit-0.8.0.xml


